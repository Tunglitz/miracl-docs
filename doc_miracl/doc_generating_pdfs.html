<!DOCTYPE html>
<html>
  <head>

 <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="You can generate a PDF from your Jekyll project. You do this by creating a web version of your project that is printer friendly. You then use utility called ...">
<meta name="keywords" content="publishingsingle-sourcingcontent-types,  PDF, prince, prince XML, ant, xsl fo">
<title>Generating PDFs  | MIRACL</title>
<link rel="stylesheet" type="text/css" href="css/syntax.css">
<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="style/css/style.css">
<link rel="stylesheet" type="text/css" href="css/customstyles.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->







 

<script>
  $(function () {
      $('[data-toggle="tooltip"]').tooltip()
  })
</script>








  </head>

<body class="detail-page">

   <header>

  <nav class="navbar navbar-default navbar-fixed-top">
    <!-- We use the fluid option here to avoid overriding the fixed width of a normal container within the narrow content columns. -->
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-6" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          <img src="img/company-logo.svg">
        </a>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6">

    <a href="#" class="default-btn outline pull-right">
      <span class="txt">open  miracl</span>
    </a>

    <ul class="nav navbar-nav">
      <!-- <li class="active"><a href="#">Home</a></li> -->
      <!-- <li class="dropdown">
      <a id="drop2" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
      Services
      <span class="caret"></span>
      </a>
        <ul class="dropdown-menu" aria-labelledby="drop2">
          <li><a href="#">Dedicated Distributed Trust Aughthority</a></li>
          <li><a href="#">Cryptographic Engineering</a></li>
          <li role="separator" class="visible-xs divider"></li>
        </ul>
      </li>
      <li class="dropdown">
      <a id="drop2" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
      Products
      <span class="caret"></span>
      </a>
        <ul class="dropdown-menu" aria-labelledby="drop2">
          <li><a href="#">Miracl Datacenter Cryptosystem</a></li>
          <li><a href="#">Miracl Crypto Libraries</a></li>
          <li role="separator" class="visible-xs divider"></li>
        </ul>
      </li> -->
      <li><a href="#">Products</a></li>
      <li><a href="#">Services</a></li>
      <li><a href="#">Resources</a></li>
      <!-- <li><a href="#">Crypto Labs</a></li> -->
      <li><a href="#">Success Stories</a></li>
      <!-- <li><a href="#">Community</a></li> -->
      <!-- <li><a href="#">Contact us</a></li> -->
    </ul>
      </div><!-- /.navbar-collapse -->

    </div>
  </nav>

</header>

    <div class="header-intro small text-center">
  <div class="dim"></div>
  <h1 class="title">Generating PDFs</h1>
  <p class="title-desc">You'll definitely fall in love with this product.<span class="hidden-xs"><br></span>Itâ€™s like a missing part of your live.</p>
</div>

<div class="content-wrapper">
  <div class="container">
    <div class="row">

      <div class="col-xs-12 col-sm-8 col-md-9 desc-wrapper">

      <div class="content">
           
            <div class="summary">You can generate a PDF from your Jekyll project. You do this by creating a web version of your project that is printer friendly. You then use utility called Prince to iterate through the pages and create a PDF from them. It works quite well and gives you complete control to customize the PDF output through CSS, including page directives and dynamic tags from Prince.</div>
           

            
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

            
            <a href="https://github.com/tomjohnson1492/documentation-theme-jekyll/blob/gh-pages/doc_generating_pdfs.md" class="btn btn-default " role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>
            

               <h2 id="pdf-overview">PDF overview</h2>

<p>This process for creating a PDF relies on Prince XML to transform the HTML content into PDF. Prince costs about $500 per license. That might seem like a lot, but if you&#39;re creating a PDF, you&#39;re probably working for a company that sells a product, so you likely have access to some resources.</p>

<p>The basic approach is to generate a list of all pages that need to be added to the PDF, and then add leverage Prince to package them up into a PDF.</p>

<p>It may seem like the setup is somewhat cumbersome, but it doesn&#39;t take long. Once you set it up, building a pdf is just a matter of running a couple of commands.</p>

<p>Also, creating a PDF this way gives you a lot more control and customization capabilities than with other methods for creating PDFs. If you know CSS, you can entirely customize the output.</p>

<h2 id="demo">Demo</h2>

<p>You can see an example of the finished product here: </p>

<p><a target="_blank" class="noCrossRef" href="doc_designers_pdf.pdf"><button type="button" class="btn btn-default" aria-label="Left Align"><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> Designers PDF Download</button></a></p>

<h2 id="1-set-up-prince">1. Set up Prince</h2>

<p>Download and install <a href="http://www.princexml.com/doc/installing/">Prince</a>.</p>

<p>You can install a fully functional trial version. The only difference is that the title page will have a small Prince PDF watermark.</p>

<h2 id="2-create-a-new-configuration-file-for-each-of-your-pdf-targets">2. Create a new configuration file for each of your PDF targets</h2>

<p>The PDF configuration file will build on the settings in the regular configuration file but will some additional fields. Here&#39;s the configuration file for the config_designers.yml file for this theme:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">destination: ../doc_designers-pdf
url: &quot;http://127.0.0.1:4002&quot;
baseurl: &quot;/doc_designers&quot;
port: 4002
print: true
print_title: Jekyll Documentation Theme for Designers
print_subtitle: version 3.0
defaults:
  -
    scope:
      path: &quot;&quot;
      type: &quot;pages&quot;
    values:
      layout: &quot;page_print&quot;
      comments: true
      search: true
</code></pre></div>
<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note: </b> Although you're creating a PDF, you must still build a web target before running Prince. Prince will pull from the HTML files and from the file-list for the TOC. Prince won't be able to find files if they simply have relative paths, such as /sample.html. The must have full URLs it can access &mdash; hence the <code>url</code> and <code>baseurl</code>. </div>

<p>Unlike the other configuration files, the PDF configuration files require a <code>url</code> and <code>baseurl</code>. This is because the Prince utility needs to access the pages in a specific place. While you could probably set up locations via absolute paths to file folders, it&#39;s easier just to provide the locations here as <code>url</code> and <code>baseurl</code>.</p>

<p>Also note that the default page layout is <code>page_print</code>. This layout strips out all the sections that shouldn&#39;t appear in the print PDF, such as the sidebar and top navigation bar.</p>

<p>Finally, note that there&#39;s a <code>print: true</code> toggle in case you want to make some of your content unique to PDF output. For example, you could add conditional logic that checks whether <code>site.print</code> is true or not. If it&#39;s true, then include information only for the PDF, and so on. </p>

<p>In the configuration file, customize the values for the <code>print_title</code> and <code>print_subtitle</code> that you want. These will appear on the title page of the PDF.</p>

<h2 id="3-make-sure-your-sidebar_doc-yml-file-has-a-titlepage-html-and-tocpage-html">3. Make sure your sidebar_doc.yml file has a titlepage.html and tocpage.html</h2>

<p>There are two template pages in the root directory that are critical to the PDF:</p>

<ul>
<li>titlepage.html</li>
<li>tocpage.html</li>
</ul>

<p>These pages should appear in your sidebar YML file (in this theme, sidebar_doc.yml):</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">entries:</span>
 <span class="err">-</span> <span class="err">title:</span> <span class="err">Sidebar</span>
   <span class="err">subcategories:</span>
     <span class="err">-</span> <span class="err">title:</span> <span class="err">Frontmatter</span>
       <span class="err">audience:</span> <span class="err">writers,</span> <span class="err">designers</span>
       <span class="err">platform:</span> <span class="err">all</span>
       <span class="err">product:</span> <span class="err">all</span>
       <span class="err">version:</span> <span class="err">all</span>
       <span class="err">web:</span> <span class="kc">false</span>
       <span class="err">items:</span>
         <span class="err">-</span> <span class="err">title:</span> <span class="err">Title</span> <span class="err">Page</span>
           <span class="err">url:</span> <span class="err">/titlepage.html</span>
           <span class="err">audience:</span> <span class="err">writers,</span> <span class="err">designers</span>
           <span class="err">platform:</span> <span class="err">all</span>
           <span class="err">product:</span> <span class="err">all</span>
           <span class="err">version:</span> <span class="err">all</span>
           <span class="err">web:</span> <span class="kc">false</span>

         <span class="err">-</span> <span class="err">title:</span> <span class="err">Table</span> <span class="err">of</span> <span class="err">Contents</span>
           <span class="err">url:</span> <span class="err">/tocpage.html</span>
           <span class="err">audience:</span> <span class="err">writers,</span> <span class="err">designers</span>
           <span class="err">platform:</span> <span class="err">all</span>
           <span class="err">product:</span> <span class="err">all</span>
           <span class="err">version:</span> <span class="err">all</span>
           <span class="err">web:</span> <span class="kc">false</span>
</code></pre></div>
<p>Leave these pages here in your sidebar. (The <code>web: false</code> property means they won&#39;t appear in your online TOC because the conditional logic of the sidebar.html checks whether <code>web</code> is equal to <code>false</code> or not before including the item in the web version of the content.)</p>

<p>The code in the tocpage.html is nearly identical to that of the sidebar.html page except that it includes the <code>site</code> and <code>baseurl</code> for the URLs. This is essential for Prince to create the page numbers correctly with cross references.</p>

<p>There&#39;s another file (in the root directory of the theme) that is critical to the PDF generation process: prince-file-list.txt. This file simply iterates through the items in your sidebar and creates a list of links. Prince will consume the list of links from prince-file-list.txt and create a running PDF that contains all of the pages listed, with appropriate cross references and styling for them all.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note: </b> If you have any files that you do not want to appear in the PDF, add <code>print: false</code> in the list of attributes in your sidebar. The prince-file-list.txt file that loops through the sidebar_doc.yml file to grab the URLs of each page that should appear in the PDF will skip over any items that have <code>print: false</code> in the item attributes. For example, you might not want your tag archives to appear in the PDF, but you probably will want to list them in the online help navigation. </div>

<h2 id="4-customize-your-headers-and-footers">4. Customize your headers and footers</h2>

<p>Open up the css/printstyles.css file and customize what you want for the headers and footers. At the very least, customize the email address that appears in the bottom left.</p>

<p>Exactly how the print styling works here is pretty cool. You don&#39;t need to understand the rest of the content in this section unless you want to customize your PDFs to look different from what I&#39;ve configured. </p>

<p>This style creates a page reference for a link:</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">]:</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span> <span class="s2">&quot; (page &quot;</span> <span class="n">target</span><span class="o">-</span><span class="n">counter</span><span class="p">(</span><span class="n">attr</span><span class="p">(</span><span class="n">href</span><span class="p">)</span><span class="o">,</span> <span class="k">page</span><span class="p">)</span> <span class="s2">&quot;)&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>You don&#39;t want cross references for any link, so this style specifies that the content after should be blank:</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">*=</span><span class="s2">&quot;mailto&quot;</span><span class="o">]:</span><span class="nd">:after</span><span class="o">,</span> <span class="nt">a</span><span class="o">[</span><span class="nt">data-toggle</span><span class="o">=</span><span class="s2">&quot;tooltip&quot;</span><span class="o">]:</span><span class="nd">:after</span><span class="o">,</span> <span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">]</span><span class="nc">.noCrossRef</span><span class="o">:</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>Tip: </b> If you have a link to a file download, or some other link that shouldn't have a cross reference (such as link used in JavaScript for navtabs or collapsible sections, for example, add `noCrossRef` as a class to the link to avoid having it say "page 0" in the cross reference.</div>

<p>This style specifies that after links to web resources, the URL should be inserted instead of the page number: </p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">^=</span><span class="s2">&quot;http:&quot;</span><span class="o">]:</span><span class="nd">:after</span><span class="o">,</span> <span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">^=</span><span class="s2">&quot;https:&quot;</span><span class="o">]:</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span> <span class="s2">&quot; (&quot;</span> <span class="n">attr</span><span class="p">(</span><span class="n">href</span><span class="p">)</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>This style sets your page margins:</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="k">@page</span> <span class="p">{</span>
    <span class="nt">margin</span><span class="o">:</span> <span class="nt">60pt</span> <span class="nt">90pt</span> <span class="nt">60pt</span> <span class="nt">90pt</span><span class="o">;</span>
    <span class="nt">font-family</span><span class="o">:</span> <span class="nt">sans-serif</span><span class="o">;</span>
    <span class="nt">font-style</span><span class="nd">:none</span><span class="o">;</span>
    <span class="nt">color</span><span class="o">:</span> <span class="nt">gray</span><span class="o">;</span>

<span class="p">}</span>
</code></pre></div>
<p>To set a specific style property for a particular page, you have to name the page. This allows Prince to identify the page. </p>

<p>First you add frontmatter to the page that specifies the type. For the titlepage.html, here&#39;s the frontmatter:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">---
type: title
---
</code></pre></div>
<p>For the tocpage, here&#39;s the frontmatter:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">---
type: frontmatter
---
</code></pre></div>
<p>For the index.html page, we have this type tag (among others):</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">---
type: first_page
---
</code></pre></div>
<p>The default_print.html layout will change the class of the <code>body</code> element based on the type value in the page&#39;s frontmatter:</p>
<div class="highlight"><pre><code class="language-liquid" data-lang="liquid">&lt;body class=&quot;<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;title&quot;</span><span class="p">%}</span><span class="nv">title</span><span class="err">{%</span><span class="w"> </span><span class="nv">elsif</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;frontmatter&quot;</span><span class="w"> </span><span class="p">%}</span><span class="nv">frontmatter</span><span class="err">{%</span><span class="w"> </span><span class="nv">elsif</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;first_page&quot;</span><span class="w"> </span><span class="p">%}</span><span class="nv">first_page</span><span class="err">{%</span><span class="w"> </span><span class="nv">endif</span><span class="w"> </span><span class="p">%}</span> print&quot;&gt;
</code></pre></div>
<p>Now in the css/printstyles.css file, you can assign a page name based on a specific class:</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">body</span><span class="nc">.title</span> <span class="p">{</span> <span class="k">page</span><span class="o">:</span> <span class="n">title</span> <span class="p">}</span>
</code></pre></div>
<p>This means that for content inside of <code>body class=&quot;title&quot;</code>, we can style this page in our stylesheet using <code>@page title</code>.</p>

<p>Here&#39;s how that title page is styled: </p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="k">@page</span> <span class="nt">title</span> <span class="p">{</span>
    <span class="k">@top-left</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="s2">&quot; &quot;</span><span class="o">;</span>
    <span class="p">}</span>
    <span class="k">@top-right</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="s2">&quot; &quot;</span>
    <span class="p">}</span>
    <span class="k">@bottom-right</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="s2">&quot; &quot;</span><span class="o">;</span>
    <span class="p">}</span>
    <span class="k">@bottom-left</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="s2">&quot; &quot;</span><span class="o">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>As you can see, we don&#39;t have any header or footer content, because it&#39;s the title page.</p>

<p>For the tocpage.html, which has the <code>type: frontmatter</code>, this is specified in the stylesheet: </p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">body</span><span class="nc">.frontmatter</span> <span class="p">{</span> <span class="k">page</span><span class="o">:</span> <span class="n">frontmatter</span> <span class="p">}</span>
<span class="nt">body</span><span class="nc">.frontmatter</span> <span class="p">{</span><span class="k">counter-reset</span><span class="o">:</span> <span class="k">page</span> <span class="m">1</span><span class="p">}</span>


<span class="k">@page</span> <span class="nt">frontmatter</span> <span class="p">{</span>
    <span class="k">@top-left</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="nt">prince-script</span><span class="o">(</span><span class="nt">guideName</span><span class="o">);</span>
    <span class="p">}</span>
    <span class="k">@top-right</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="nt">prince-script</span><span class="o">(</span><span class="nt">datestamp</span><span class="o">);</span>
    <span class="p">}</span>
    <span class="k">@bottom-right</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="nt">counter</span><span class="o">(</span><span class="nt">page</span><span class="o">,</span> <span class="nt">lower-roman</span><span class="o">);</span>
    <span class="p">}</span>
    <span class="k">@bottom-left</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="s2">&quot;youremail@domain.com&quot;</span><span class="o">;</span>   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>We reset the page count to 1 so that the title page doesn&#39;t start the count. Then we also add some header and footer info. The page numbers start counting in lower-roman numerals.</p>

<p>Finally, for the first page, we restart the counting to 1 again and this time use regular numbers. </p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">body</span><span class="nc">.first_page</span> <span class="p">{</span><span class="k">counter-reset</span><span class="o">:</span> <span class="k">page</span> <span class="m">1</span><span class="p">}</span>

<span class="nt">h1</span> <span class="p">{</span> <span class="n">string</span><span class="o">-</span><span class="n">set</span><span class="o">:</span> <span class="n">doctitle</span> <span class="k">content</span><span class="p">()</span> <span class="p">}</span>

<span class="k">@page</span> <span class="p">{</span>
    <span class="k">@top-left</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="nt">string</span><span class="o">(</span><span class="nt">doctitle</span><span class="o">);</span>
        <span class="nt">font-size</span><span class="o">:</span> <span class="nt">11px</span><span class="o">;</span>
        <span class="nt">font-style</span><span class="o">:</span> <span class="nt">italic</span><span class="o">;</span>
    <span class="p">}</span>
    <span class="k">@top-right</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="nt">prince-script</span><span class="o">(</span><span class="nt">datestamp</span><span class="o">);</span>
        <span class="nt">font-size</span><span class="o">:</span> <span class="nt">11px</span><span class="o">;</span>
    <span class="p">}</span>

    <span class="k">@bottom-right</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="s2">&quot;Page &quot;</span> <span class="nt">counter</span><span class="o">(</span><span class="nt">page</span><span class="o">);</span>
        <span class="nt">font-size</span><span class="o">:</span> <span class="nt">11px</span><span class="o">;</span>
    <span class="p">}</span>
    <span class="k">@bottom-left</span> <span class="p">{</span>
        <span class="nt">content</span><span class="o">:</span> <span class="nt">prince-script</span><span class="o">(</span><span class="nt">guideName</span><span class="o">);</span>
        <span class="nt">font-size</span><span class="o">:</span> <span class="nt">11px</span><span class="o">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>You&#39;ll see some other items in there such as <code>prince-script</code>. This means we&#39;re using JavaScript to run some functions to dynamically generate that content. These JavaScript functions are located in the _includes/head_print.html:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
    <span class="nx">Prince</span><span class="p">.</span><span class="nx">addScriptFunc</span><span class="p">(</span><span class="s2">&quot;datestamp&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;PDF last generated: October 26, 2015&quot;</span><span class="p">;</span>
    <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
    <span class="nx">Prince</span><span class="p">.</span><span class="nx">addScriptFunc</span><span class="p">(</span><span class="s2">&quot;guideName&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot; User Guide&quot;</span><span class="p">;</span>
    <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<p>There are a couple of Prince functions that are default functions from Prince. This gets the heading title of the page:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js">        <span class="nx">content</span><span class="o">:</span> <span class="nx">string</span><span class="p">(</span><span class="nx">doctitle</span><span class="p">);</span>
</code></pre></div>
<p>This gets the current page: </p>
<div class="highlight"><pre><code class="language-js" data-lang="js">        <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Page &quot;</span> <span class="nx">counter</span><span class="p">(</span><span class="nx">page</span><span class="p">);</span>
</code></pre></div>
<p>Because the theme uses JavaScript in the CSS, you have to add the <code>--javascript</code> tag in the Prince command (detailed later on this page).</p>

<h2 id="5-customize-the-doc_multiserve_pdf-sh-script">5. Customize the doc_multiserve_pdf.sh script</h2>

<p>Open the doc_multiserve_pdf.sh file in the root directory and customize it for your specific configuration files. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">echo &#39;Killing all Jekyll instances&#39;
kill -9 $(ps aux | grep &#39;[j]ekyll&#39; | awk &#39;{print $2}&#39;)
clear

# serve all di print deliverables

# Writers
echo &quot;Serving Writers PDF&quot;
jekyll serve --detach --config configs/config_writers.yml,configs/config_writers_pdf.yml

# Designers
echo &quot;Serving Designers PDF&quot;
jekyll serve --detach --config configs/config_designers.yml,configs/config_designers_pdf.yml
</code></pre></div>
<p>Note that the first part kills all Jekyll instances. This way you won&#39;t try to server Jekyll at a port that is already occupied.</p>

<p>The <code>jekyll serve</code> command serves up the PDF configurations for our two projects. This web version is where Prince will go to get its content.</p>

<h2 id="6-configure-the-prince-scripts">6. Configure the Prince scripts</h2>

<p>Open up doc_multibuild_pdf.sh and look at the Prince commands:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">prince --javascript --input-list=../doc_designers-pdf/prince-file-list.txt -o /Users/tjohnson/projects/documentation-theme-jekyll/doc_designers_pdf.pdf;
</code></pre></div>
<p>This script issues a command to the Prince utility. JavaScript is enabled (<code>--javascript</code>), and we tell it exactly where to find the list of files (<code>--input-list</code>) &mdash; just point to the prince-file-list.txt file. Then we tell it where and what to output (<code>-o</code>).</p>

<p>Make sure that the path to the prince-file-list.txt is correct. For the output directory, I like to output the PDF file into my project&#39;s source. Then when I build the web output, the PDF is included and something I can refer to.</p>

<h2 id="7-add-a-download-button-for-the-pdf">7. Add a download button for the PDF</h2>

<p>You can add a download button for your PDF using some Bootstrap button code:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;a</span> <span class="na">target=</span><span class="s">&quot;_blank&quot;</span> <span class="na">class=</span><span class="s">&quot;noCrossRef&quot;</span> <span class="na">href=</span><span class="s">&quot;doc_designers_pdf.pdf&quot;</span><span class="nt">&gt;&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">class=</span><span class="s">&quot;btn btn-default&quot;</span> <span class="na">aria-label=</span><span class="s">&quot;Left Align&quot;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;glyphicon glyphicon-download-alt&quot;</span> <span class="na">aria-hidden=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;&lt;/span&gt;</span> Designers PDF Download<span class="nt">&lt;/button&gt;&lt;/a&gt;</span>
</code></pre></div>
<p>Here&#39;s what that looks like:</p>

<p><a target="_blank" class="noCrossRef" href="doc_designers_pdf.pdf"><button type="button" class="btn btn-default" aria-label="Left Align"><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> Designers PDF Download</button></a></p>

<h2 id="8-run-the-scripts">8. Run the scripts</h2>

<p>To generate the PDF, you just run several scripts that have the commands packaged up:</p>

<ol>
<li>First run doc_multiserve_pdf.sh to serve up the PDF sites. The commands will detach the site from the preview server so that you can serve up multiple Jekyll sites in the same command terminal.</li>
<li>Then run doc_multibuild_pdf.sh to build the PDF files. </li>
<li>Now run doc_multibuild_web.sh to build the web version that includes the generated PDF files.</li>
</ol>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note: </b> If you don't like the style of the PDFs, just adjust the styles in the printstyles.css file.</div>

<h2 id="javascript-conflicts">JavaScript conflicts</h2>

<p>If you have JavaScript on any of your pages, Prince will note errors in Terminal like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">error: TypeError: value is not an object
</code></pre></div>
<p>However, the PDF will still build.</p>

<p>You need to conditionalize out any JavaScript from your PDF web output before building your PDFs. Make sure that the PDF configuration files have the <code>print: true</code> property.</p>

<p>Then surround the JavaScript with conditional tags like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">{% unless site.print == true %}
javascript content here ...
{% endunless %}
</code></pre></div>
<p>For more detail about using <code>unless</code> in conditional logic, see <a href='doc_conditional_logic.html'>Conditional logic</a>. What this code means is basically the opposite of <code>if site.print == true</code>.</p>


        <div class="tags">
            
            <b>Tags: </b>
            













            
            

            <a href="tag-publishing.html" class="btn btn-info navbar-btn cursorNorm" role="button">publishing</a>
            
            
            

            <a href="tag-single-sourcing.html" class="btn btn-info navbar-btn cursorNorm" role="button">single-sourcing</a>
            
            
            

            <a href="tag-content-types.html" class="btn btn-info navbar-btn cursorNorm" role="button">content-types</a>
            
            
            
        </div>

        

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'idrbwjekyll'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      </div>

      </div>

      <!-- Content Row -->

<div class="col-xs-12 col-sm-4 col-md-3">
  <div class="aside" id="asideAffix">
    <div class="title">usefull Resources</div>

            <script>

                $(document).ready(function() {
                            // Initialize navgoco with default options
                            $("#mysidebar").navgoco({
                                caretHtml: '',
                                accordion: true,
                                openClass: 'active', // open
                                save: false, // leave false or nav highlighting doesn't work right
                                cookie: {
                                    name: 'navgoco',
                                    expires: false,
                                    path: '/'
                            },
                            slide: {
                                duration: 400,
                                easing: 'swing'
                                    }
                                    });

                $("#collapseAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', false);
                });

                $("#expandAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', true);
                });

                });

            </script>


            














            <ul id="mysidebar" class="nav">

                <span class="siteTagline">OpenMIRACL</span>

                
                
                
            
                
                <li><a href="#">Getting started</a>
                    <ul>
                        
                        
                        
                        <li><a href="index.html">Introduction</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_getting_started.html">Getting started with this theme</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_configuration_settings.html">Setting configuration options</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_customizing_the_theme.html">Customizing the theme</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_supported_features.html">Supported features</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Authoring</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_pages.html">Pages</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_webstorm_text_editor.html">WebStorm Text Editor</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_series.html">Series</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_collections.html">Collections</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Navigation</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_sidebar_navigation.html">Sidebar navigation</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_top_navigation.html">Top navigation</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_tags.html">Tags</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Formatting</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_adding_tooltips.html">Tooltips</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_alerts.html">Alerts</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_icons.html">Icons</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_images.html">Images</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_labels.html">Labels</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_hyperlinks.html">Links</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_navtabs.html">Navtabs</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_video_embeds.html">Video embeds</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_tables.html">Tables</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_syntax_highlighting.html">Syntax highlighting</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Single-sourcing</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_conditional_logic.html">Conditional logic</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_content_reuse.html">Content reuse</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Handling reviews</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_commenting_on_files.html">Commenting on files</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Publishing</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_build_arguments.html">Build arguments</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_themes.html">Themes</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_link_validation.html">Link validation</a></li>
                        

                        

                
                
                        
                        
                        <li class="active"><a href="doc_generating_pdfs.html">Generating PDFs</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_excluding_files.html">Excluding files</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_help_api.html">Help APIs and UI tooltips</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_search_configuration.html">Search configuration</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_iterm_profiles.html">iTerm profiles</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_push_build_to_server.html">Pushing builds to server</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Special layouts</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_kb_layout.html">Knowledge-base layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_scroll.html">Scroll layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_shuffle.html">Shuffle layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_faq.html">FAQ layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_glossary.html">Glossary layout</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Tag archives</a>
                    <ul>
                        
                        
                        
                        <li><a href="tag_archives_overview.html">Tag archives overview</a></li>
                        

                        
                        
                        <li class="thirdlevel"><a href="#">Tag archive pages</a>
                            <ul>
                                
                                
                                
                                <li><a href="tag-getting-started.html">Getting started pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-formatting.html">Formatting pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-navigation.html">Navigation pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-content-types.html">Content types pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-publishing.html">Publishing pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-special-layouts.html">Special layout pages</a></li>
                                

                                
                                
                            </ul>
                        </li>
                        
                        

                
                
    </ul>
            
            
            


    <div class="btn-row">
      <div class="btn-row">
        <a href="#" class="default-btn">
          <span class="txt">Download PDF</span>
        </a>
      </div>
    </div>
  </div>
</div>

<script>$("li.active").parents('li').toggleClass("active");</script>

      
    </div>
  </div>

</div>

1
</body>

<!-- the google_analytics_id gets auto inserted from the config file -->


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66296557-1', 'auto');
    ga('send', 'pageview');
</script>



<div class="section dark footer">
	<div class="container">
		<div class="row">
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Products</h4>
				<ul class="list-unstyled">
					<li><a href="#">M-pin Core</a></li>
					<li><a href="#">M-pin SSO</a></li>
					<li><a href="#">Datacentre Cryptosystem</a></li>
					<li><a href="#">Cloud Security</a></li>
					<li><a href="#">Mobile</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Community</h4>
				<ul class="list-unstyled">
					<li><a href="#">Get Involved</a></li>
					<li><a href="#">How to contribute</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Resources</h4>
				<ul class="list-unstyled">
					<li><a href="#">Get started</a></li>
					<li><a href="#">Documentation</a></li>
					<li><a href="#"> GitHub</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Contact us</h4>
				<ul class="list-unstyled">
					<li>81 Rivington Street<br>United Kingdom, <br>EC2A 3AY</li>
					<li><a href="mailto:sales@miracl.com?Subject=Want%20to%20say%20hello!" target="_top">sales@miracl.com</a></li>
					<li><a href="tel:+4402033898190">+44 (0)20 3389 8190</a></li>
				</ul>
			</div>
		</div>
		<div class="row text-center">
			<ul class="list-inline small-footer">
				<li>MIRACL UK Ltd., All Rights Reserved.</li>
				<li><a href="https://www.certivox.com/about-certivox/terms-and-conditions">Terms and Conditions</a></li>
			</ul>
		</div>
	</div>
</div>

</html>

