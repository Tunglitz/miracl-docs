<!DOCTYPE html>
<html>
  <head>

 <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Docs MIRACL Users Manual Internal Representation  | MIRACL</title>
<link rel="stylesheet" type="text/css" href="css/syntax.css">
<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="style/css/style.css">
<link rel="stylesheet" type="text/css" href="css/customstyles.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->







 

<script>
  $(function () {
      $('[data-toggle="tooltip"]').tooltip()
  })
</script>








  </head>

<body class="detail-page">

   <header>

  <nav class="navbar navbar-default navbar-fixed-top">
    <!-- We use the fluid option here to avoid overriding the fixed width of a normal container within the narrow content columns. -->
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-6" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          <img src="img/company-logo.svg">
        </a>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6">

    <a href="#" class="default-btn outline pull-right">
      <span class="txt">open  miracl</span>
    </a>

    <ul class="nav navbar-nav">
      <!-- <li class="active"><a href="#">Home</a></li> -->
      <!-- <li class="dropdown">
      <a id="drop2" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
      Services
      <span class="caret"></span>
      </a>
        <ul class="dropdown-menu" aria-labelledby="drop2">
          <li><a href="#">Dedicated Distributed Trust Aughthority</a></li>
          <li><a href="#">Cryptographic Engineering</a></li>
          <li role="separator" class="visible-xs divider"></li>
        </ul>
      </li>
      <li class="dropdown">
      <a id="drop2" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
      Products
      <span class="caret"></span>
      </a>
        <ul class="dropdown-menu" aria-labelledby="drop2">
          <li><a href="#">Miracl Datacenter Cryptosystem</a></li>
          <li><a href="#">Miracl Crypto Libraries</a></li>
          <li role="separator" class="visible-xs divider"></li>
        </ul>
      </li> -->
      <li><a href="#">Products</a></li>
      <li><a href="#">Services</a></li>
      <li><a href="#">Resources</a></li>
      <!-- <li><a href="#">Crypto Labs</a></li> -->
      <li><a href="#">Success Stories</a></li>
      <!-- <li><a href="#">Community</a></li> -->
      <!-- <li><a href="#">Contact us</a></li> -->
    </ul>
      </div><!-- /.navbar-collapse -->

    </div>
  </nav>

</header>

    <div class="header-intro small text-center">
  <div class="dim"></div>
  <h1 class="title">Docs MIRACL Users Manual Internal Representation</h1>
  <p class="title-desc">You'll definitely fall in love with this product.<span class="hidden-xs"><br></span>It’s like a missing part of your live.</p>
</div>

<div class="content-wrapper">
  <div class="container">
    <div class="row">

      <div class="col-xs-12 col-sm-8 col-md-9 desc-wrapper">

      <div class="content">
           

            
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

            
            <a href="https://github.com/tomjohnson1492/documentation-theme-jekyll/blob/gh-pages/docs-miracl-miracl-users-manual-internal-representation.md" class="btn btn-default " role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>
            

               <p>Conventional computer arithmetic facilities as provided by most computer language compilers usually provide one or two floating-point data types (e.g. single and double precision) to represent all the real numbers, together with one or more integer types to represent whole numbers. These built-in data-types are closely related to the underlying computer architecture, which is sensibly designed to work quickly with large amounts of small numbers, rather than slowly with small amounts of large numbers (given a fixed memory allocation). Floating-point allows a relatively small binary number (e.g. 32 bits) to represent real numbers to an adequate precision (e.g. 7 decimal places) over a large dynamic range. Integer types allow small whole numbers to be represented directly by their binary equivalent, or in 2&#39;s complement form if negative. Nevertheless this conventional approach to computer arithmetic has several disadvantages.</p>

<ul>
<li><p>Floating-point and Integer data-types are incompatible. Note that the set of integers, although infinite, is a subset of the rationals (i.e. fractions), which is in turn a subset of the reals. Thus every integer has an equivalent floating-point representation. Unfortunately these two representations will in general be different. For example a small positive whole number will be represented by its binary equivalent as an integer, and as separated mantissa and exponent as a floating-point. This implies the need for conversion routines, to convert from one form to the other.</p></li>
<li><p>Most rational numbers cannot be expressed exactly (e.g. 1/3). Indeed the floating-point system can only express exactly those rationals whose denominators are multiples of the factors of the underlying radix. For example our familiar decimal system can only represent exactly those rational numbers whose denominators are multiples of 2 and 5; 1/20 is 0.05 exactly, 1/21 is 0.0476190476190.....</p></li>
<li><p>Rounding in floating-point is base-dependant and a source of obscure errors.</p></li>
<li><p>The fact that the size of integer and floating-point data types are dictated by the computer architecture, defeats the efforts of language designers to keep their languages truly portable.</p></li>
<li><p>Numbers can only be represented to a fixed machine-dependent precision. In many applications this can be a crippling disadvantage, for example in the new and growing field of Public-Key cryptography.</p></li>
<li><p>Base-dependent phenomena cannot easily be studied. For example it would be difficult to access a particular digit of a decimal number, as represented by a traditional integer data-type.</p></li>
</ul>

<p>Herein is described a set of standard C routines which manipulate multi-precision rational numbers directly, with multi-precision integers as a compatible subset. Approximate real arithmetic can also be performed.</p>

<p>The two new data-types are called <em>big</em> and <em>flash</em>. The former is used to store multi-precision integers, and the latter stores multi-precision fractions as numerator and denominator in ‘floating-slash’ form. Both take the form of a fixed length array of digits, with sign and length information encoded in a separate 32-bit integer. The data type defined as <strong>mr_small</strong> used to store the number digits will be one of the built in types, for example int, long or even double. This is referred to as the “underlying type”.</p>

<p>Both new types can be introduced into the syntax of the C language by the C statements</p>
<div class="highlight"><pre><code class="language-c" data-lang="c">    <span class="k">struct</span> <span class="n">bigtype</span>
    <span class="p">{</span>
      <span class="n">mr_unsign32</span> <span class="n">L</span><span class="p">;</span>
      <span class="n">mr_small</span> <span class="o">*</span><span class="n">d</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="k">typedef</span> <span class="k">struct</span> <span class="n">bigtype</span> <span class="o">*</span><span class="n">big</span><span class="p">;</span>

    <span class="k">typedef</span> <span class="k">struct</span> <span class="n">bigtype</span> <span class="o">*</span><span class="n">flash</span><span class="p">;</span>
</code></pre></div>
<p>Now <em>big</em> and <em>flash</em> variables can be declared just like any built-in data type, e.g.</p>
<div class="highlight"><pre><code class="language-c" data-lang="c">    <span class="n">big</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span><span class="n">z</span><span class="p">[</span><span class="mi">10</span><span class="p">][</span><span class="mi">10</span><span class="p">];</span>
</code></pre></div>
<p>Observe that a <em>big</em> is just a pointer. The memory needed for each <em>big</em> or <em>flash</em> number instance is taken from the heap (or from the stack). Therefore each <em>big</em> or <em>flash</em> number must be initialised before use, and the required memory assigned to it.</p>

<p>Note that the user of these data-types is not concerned with this internal representation; the library routines allow <em>big</em> and <em>flash</em> numbers to be manipulated directly.</p>

<p>The structure of <em>big</em> and <em>flash</em> numbers is illustrated in figure (4.1).</p>

<p>These structures combine ease of use with representational efficiency. A denominator of length zero (<em>d=0</em>), implies an actual denominator of one; and similarly a numerator of length zero (<em>n=0</em>) implies a numerator of one. Zero itself is uniquely defined as the number whose first element is zero (i.e. <em>n=d=0</em>).   </p>

<p><img src="dataassetsimageschunks4-1.png" alt=""></p>

<p>Figure 4.1:   Structure of <em>big</em> and <em>flash</em> data-types where s is the sign of the number, <em>n</em> and <em>d</em> are the lengths of the numerator and denominator respectively, and LSW and MSW mean ‘Least significant word and ‘Most significant word’ respectively</p>

<p>Note that the slash in the <em>flash</em> data-type is not in a fixed position, and may ‘float’ depending on the relative size of numerator and denominator.</p>

<p>A <em>flash</em> number is manipulated by splitting it up into separate <em>big</em> numerator and denominator components. A <em>big</em> number is manipulated by extracting and operating on each of its component integer elements. To avoid possible overflow, the numbers in each element are normally limited to a somewhat smaller range than that of the full word-length, e.g. 0 to 32767 (= 2<sup>15</sup> - 1) on a 16-bit computer. However with careful programming a full-width base of 2<sup>16</sup> can also be used, as the C language does not report a run-time error on integer overflow [Scott89b].</p>

<p>When the system is initialised the user specifies the fixed number of words (or bytes) to be assigned to all <em>big</em> or <em>flash</em> variables, and the number base to be used. Any base can be used, up to a maximum which is dependent on the word length of the computer used. If requested to use a small base <em>b</em>, the system will, for optimal efficiency, actually use base <em>b<sup>n</sup></em>, where <em>n</em> is the largest integer such that <em>b<sup>n</sup></em> fits in a single computer word. Programs will in general execute fastest if a full-width base is used (achieved by specifying a base of 0 in the initial call to <strong>mirsys</strong>). Note that this mode may be supported by extensive in-line assembly language for certain popular compiler/processor combinations, in certain time-critical routines, for example if using Borland/Turbo C with an 80x86 processor. Examine, for example, the source code in module <em>mrarth1.c</em>.</p>

<p>The encoding of the sign and numerator and denominator size information into a single word is possible, as the C language has standard constructs for bit manipulation.</p>


        <div class="tags">
            
        </div>

        

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'idrbwjekyll'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      </div>

      </div>

      <!-- Content Row -->

<div class="col-xs-12 col-sm-4 col-md-3">
  <div class="aside" id="asideAffix">
    <div class="title">Resources</div>

            <script>

                $(document).ready(function() {
                            // Initialize navgoco with default options
                            $("#mysidebar").navgoco({
                                caretHtml: '',
                                accordion: true,
                                openClass: 'active', // open
                                save: false, // leave false or nav highlighting doesn't work right
                                cookie: {
                                    name: 'navgoco',
                                    expires: false,
                                    path: '/'
                            },
                            slide: {
                                duration: 400,
                                easing: 'swing'
                                    }
                                    });

                $("#collapseAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', false);
                });

                $("#expandAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', true);
                });

                });

            </script>


            














            <ul id="mysidebar" class="nav">

                <span class="siteTagline">PRODUCTS</span>

                
                
                
            
                
                <li><a href="#">M-PIN CORE</a>
                    <ul>
                        
                        
                        
                        <li><a href="docs-m-pin-core.html">Overview</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-m-pin-core-3.3-release-notes.html">Release Notes 3.3</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-access.html">M-PIN Core Access</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-m-pin-in-browser-end-user-guide.html">M-Pin Core Brower User Guide</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-m-pin-in-mobile-end-user-guide.html">M-Pin Core Mobile End User Guide</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-m-pin-understanding-billing-options.html">M-Pin Core Billing</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">M-PIN SSO</a>
                    <ul>
                        
                        
                        
                        <li><a href="docs-m-pin-sso.html">Overview</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-sso-m-pin-sso-aws-3.3-release-notes.html">M-Pin SSO AWS 3.3 release Notes</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-sso-m-pin-sso-configuration-guide.html">Configuration</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-sso-m-pin-sso-for-aws-getting-started-guide.html">M-PIN SSO FOR AWS - Getting Started</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Single-sourcing</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_conditional_logic.html">Conditional logic</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_content_reuse.html">Content reuse</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Handling reviews</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_commenting_on_files.html">Commenting on files</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Publishing</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_build_arguments.html">Build arguments</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_themes.html">Themes</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_link_validation.html">Link validation</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_generating_pdfs.html">Generating PDFs</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_excluding_files.html">Excluding files</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_help_api.html">Help APIs and UI tooltips</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_search_configuration.html">Search configuration</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_iterm_profiles.html">iTerm profiles</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_push_build_to_server.html">Pushing builds to server</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Special layouts</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_kb_layout.html">Knowledge-base layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_scroll.html">Scroll layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_shuffle.html">Shuffle layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_faq.html">FAQ layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_glossary.html">Glossary layout</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Tag archives</a>
                    <ul>
                        
                        
                        
                        <li><a href="tag_archives_overview.html">Tag archives overview</a></li>
                        

                        
                        
                        <li class="thirdlevel"><a href="#">Tag archive pages</a>
                            <ul>
                                
                                
                                
                                <li><a href="tag-getting-started.html">Getting started pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-formatting.html">Formatting pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-navigation.html">Navigation pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-content-types.html">Content types pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-publishing.html">Publishing pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-special-layouts.html">Special layout pages</a></li>
                                

                                
                                
                            </ul>
                        </li>
                        
                        

                
                
    </ul>
            
            
            


    <div class="btn-row">
      <div class="btn-row">
        <a href="#" class="default-btn">
          <span class="txt">Download PDF</span>
        </a>
      </div>
    </div>
  </div>
</div>

<script>$("li.active").parents('li').toggleClass("active");</script>

      
    </div>
  </div>

</div>

1
</body>

<!-- the google_analytics_id gets auto inserted from the config file -->


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66296557-1', 'auto');
    ga('send', 'pageview');
</script>



<div class="section dark footer">
	<div class="container">
		<div class="row">
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Products</h4>
				<ul class="list-unstyled">
					<li><a href="#">M-pin Core</a></li>
					<li><a href="#">M-pin SSO</a></li>
					<li><a href="#">Datacentre Cryptosystem</a></li>
					<li><a href="#">Cloud Security</a></li>
					<li><a href="#">Mobile</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Community</h4>
				<ul class="list-unstyled">
					<li><a href="#">Get Involved</a></li>
					<li><a href="#">How to contribute</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Resources</h4>
				<ul class="list-unstyled">
					<li><a href="#">Get started</a></li>
					<li><a href="#">Documentation</a></li>
					<li><a href="#"> GitHub</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Contact us</h4>
				<ul class="list-unstyled">
					<li>81 Rivington Street<br>United Kingdom, <br>EC2A 3AY</li>
					<li><a href="mailto:sales@miracl.com?Subject=Want%20to%20say%20hello!" target="_top">sales@miracl.com</a></li>
					<li><a href="tel:+4402033898190">+44 (0)20 3389 8190</a></li>
				</ul>
			</div>
		</div>
		<div class="row text-center">
			<ul class="list-inline small-footer">
				<li>MIRACL UK Ltd., All Rights Reserved.</li>
				<li><a href="https://www.certivox.com/about-certivox/terms-and-conditions">Terms and Conditions</a></li>
			</ul>
		</div>
	</div>
</div>

</html>

