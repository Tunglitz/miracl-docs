<!DOCTYPE html>
<html>
  <head>

 <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Docs MIRACL Users Manual Installation  | MIRACL</title>
<link rel="stylesheet" type="text/css" href="css/syntax.css">
<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="style/css/style.css">
<link rel="stylesheet" type="text/css" href="css/customstyles.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->







 

<script>
  $(function () {
      $('[data-toggle="tooltip"]').tooltip()
  })
</script>








  </head>

<body class="detail-page">

   <header>

  <nav class="navbar navbar-default navbar-fixed-top">
    <!-- We use the fluid option here to avoid overriding the fixed width of a normal container within the narrow content columns. -->
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-6" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          <img src="img/company-logo.svg">
        </a>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6">

    <a href="#" class="default-btn outline pull-right">
      <span class="txt">open  miracl</span>
    </a>

    <ul class="nav navbar-nav">
      <!-- <li class="active"><a href="#">Home</a></li> -->
      <!-- <li class="dropdown">
      <a id="drop2" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
      Services
      <span class="caret"></span>
      </a>
        <ul class="dropdown-menu" aria-labelledby="drop2">
          <li><a href="#">Dedicated Distributed Trust Aughthority</a></li>
          <li><a href="#">Cryptographic Engineering</a></li>
          <li role="separator" class="visible-xs divider"></li>
        </ul>
      </li>
      <li class="dropdown">
      <a id="drop2" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
      Products
      <span class="caret"></span>
      </a>
        <ul class="dropdown-menu" aria-labelledby="drop2">
          <li><a href="#">Miracl Datacenter Cryptosystem</a></li>
          <li><a href="#">Miracl Crypto Libraries</a></li>
          <li role="separator" class="visible-xs divider"></li>
        </ul>
      </li> -->
      <li><a href="#">Products</a></li>
      <li><a href="#">Services</a></li>
      <li><a href="#">Resources</a></li>
      <!-- <li><a href="#">Crypto Labs</a></li> -->
      <li><a href="#">Success Stories</a></li>
      <!-- <li><a href="#">Community</a></li> -->
      <!-- <li><a href="#">Contact us</a></li> -->
    </ul>
      </div><!-- /.navbar-collapse -->

    </div>
  </nav>

</header>

    <div class="header-intro small text-center">
  <div class="dim"></div>
  <h1 class="title">Docs MIRACL Users Manual Installation</h1>
  <p class="title-desc">You'll definitely fall in love with this product.<span class="hidden-xs"><br></span>It’s like a missing part of your live.</p>
</div>

<div class="content-wrapper">
  <div class="container">
    <div class="row">

      <div class="col-xs-12 col-sm-8 col-md-9 desc-wrapper">

      <div class="content">
           

            
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

            
            <a href="https://github.com/tomjohnson1492/documentation-theme-jekyll/blob/gh-pages/docs-miracl-miracl-users-manual-installation.md" class="btn btn-default " role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>
            

               <p>The MIRACL library has been successfully installed on a VAX11/780, on a variety of UNIX workstations (Sun, SPARC, Next, IBM RS/6000), on an IBM PC using the Microsoft C and C++ compilers, Borland’s Turbo C and Borland C++ compilers, the Watcom C compiler and the DJGPP GNU compiler; on ARM based computers, and on an Apple Macintosh. Recently it has been implemented on Itanium and AMD 64-bit processors.</p>

<p>The complete source code for each module in the MIRACL library, and for each of the example programs is provided on the distribution media. Most are written in Standard ANSI C, and should compile using any decent ANSI C compiler. Some modules contain extensive amounts of in-line assembly language, used to optimise performance for certain compiler/processor combinations. However these are invoked transparently by conditional compilation commands and will not interfere with other compilers. The batch files <em>xxdoit.xxx</em> contain the commands used for the creation of a library file and the example programs for several compilers. Print out and examine the appropriate file for your configuration.</p>

<p>Pre-compiled libraries for immediate use with certain popular compilers may be found on the distribution media: ready-to-run versions of only some of the example programs may be included, to conserve space.</p>

<p>To create a library you will need access to a compiler, a text editor, a linker, a librarian utility, and an assembler (optional). Read your compiler documentation for further details. The file <em>mrmuldv.any</em>, which contains special assembly language versions of the time-critical routines <strong>muldiv</strong>, <strong>muldvd</strong>, <strong>muldvd2</strong> and <strong>muldvm</strong> together with some portable C versions, which may need to be tailored for your configuration. These modules are particularly required if the compiler does not support a double length type which can hold the product of two word-length integers. Most modern compilers do provide this support (often the double length type is called <strong>long long),</strong> and in this case it is often adequate to use the standard C version of this module <em>mrmuldv.ccc</em> which can simply be copied to <em>mrmuldv.c</em>. Read this manual carefully, and the comments in <em>mrmuldv.any</em> for more details.</p>

<p>The hardware/compiler specific file <em>mirdef.h</em> needs to be specified. To assist with this, five example versions of the header are supplied: <em>mirdef.h16</em> for use with a 16-bit processor, <em>mirdef.h32</em> for 32-bit processors, <em>mirdef.haf</em> if using a 32-bit processor in a 16-bit mode, and <em>mirdef.hpc</em> for pseudo 32-bit working in a 16-bit environment. Note that the full 32-bit version is fastest, but only possible if using a true 32-bit compiler with a 32-bit processor. Try <em>mirdef.gcc</em> for use with <strong>gcc</strong> and <strong>g++</strong> in a Unix environment (no assembler).</p>

<p>To assist with the configuration process, a file <em>config.c</em> is provided. When compiled and run <strong>on the target processor</strong> it automatically generates a <em>mirdef.h</em> file and gives general advice on configuration. It also generates a <em>miracl.lst</em> file with a list of MIRACL modules to be included in the associated library build. Experimentation with this program is strongly encouraged. When compiling this program DO NOT use any compiler optimization.</p>

<p>The <em>mirdef.h</em> file contains some optional definitions: Define <strong>MR_NOFULLWIDTH</strong> if you are unable to supply versions of <strong>muldvd</strong>, <strong>muldvd2</strong> and <strong>muldvm</strong> in <em>mrmuldv.c</em>. Define <strong>MR_FLASH</strong> if you wish to use <em>flash</em> variables in your programs.</p>

<p>Either one of <strong>MR_LITTLE_ENDIAN</strong> or <strong>MR_BIG_ENDIAN</strong> must be defined. The <em>config.c</em> program automatically determines which is appropriate for your processor.</p>

<p>By omitting the <strong>MR_FLASH</strong> definition <em>big</em> variables can be made much larger, and the library produced will be much smaller, leading to more compact executables. Define <strong>MR_STRIPPED_DOWN</strong> to omit error messages, to save even more space in production code. Use with care!</p>

<p>If you don’t want any assembler, define <strong>MR_NOASM</strong>. This generates standard C code for the four time-critical routines, and generates it in-line. This is faster - saves on function calling overhead - and also gives an optimising compiler something to chew on. Note that if <strong>MR_NOASM</strong> is defined, then the <em>mrmuldv</em> module is not required in the MIRACL library.</p>

<p>If using the Microsoft Visual C++ tool, some helpful advice can be found in the file <em>msvisual.txt</em>. If using the Linux operating system, check out <em>linux.txt</em>. Users of the Borland compiler should look at <em>borland.txt</em>.</p>

<p>In the majority of cases where pre-built libraries or specific advice in a <em>.txt</em> file is not available, the following procedure will result in a successful build of the MIRACL library:-</p>

<ol>
<li> Compile and run <em>config.c</em> on the target processor.</li>
<li> Rename the generated file <em>mirdef.tst</em> to <em>mirdef.h</em></li>
<li> If so advised by the <strong>config</strong> program, extract a suitable <em>mrmuldv.c</em> file from <em>mrmuldv.any</em> (or copy the standard C version <em>mrmuldv.ccc</em> to <em>mrmuldv.c</em> and use this). If it is pure assembly language it may be appropriate to name it <em>mrmuldv.s</em> or <em>mrmuldv.asm</em>.</li>
<li> If the fast <strong>KCM</strong> or <strong>Comba</strong> methods for modular multiplication were selected (see below), compile and run the <em>mex.c</em> utility on any workstation. Use it to automatically generate either the module <em>mrcomba.c</em> or <em>mrkcm.c</em>. This will require a processor/compiler-specific <em>xxx.mcs</em> file. The compiler must support inline assembly.</li>
<li> Make sure that all the MIRACL header files are accessible to the compiler. Typically the flag <strong>–I.</strong> or <strong>/I.</strong> allows these headers to be accessed from the current directory.</li>
<li> Compile the MIRACL modules listed in the generated file <em>miracl.lst</em> and create a library file, typically <em>miracl.a</em> or <em>miracl.lib</em>. This might be achieved by editing <em>miracl.lst</em> into a suitable batch or make file. On UNIX it might be as simple as:-</li>
</ol>
<div class="highlight"><pre><code class="language-text" data-lang="text">    gcc –I. –c –O2 mr*.c
    ar rc miracl.a mr*.o
</code></pre></div>
<ol>
<li> If using the C++ MIRACL wrapper, compile the required modules, for example <em>zzn.cpp</em> and/or <em>big.cpp</em> etc.</li>
<li> Compile and link your application code to any C++ modules it requires and to the MIRACL library.</li>
</ol>

<p>Remember that MIRACL is portable software. It may be ported to <strong>any</strong> computer which supports an ANSI C compiler.</p>

<p>Note that MIRACL is a C library, not C++. It should always be built as a C library otherwise you might get compiler errors. To include MIRACL routines in a C program, include the header <em>miracl.h</em> at the start of the program, after including the C standard header <em>stdio.h</em> . You may also call MIRACL routines directly from a C++ program by:-</p>
<div class="highlight"><pre><code class="language-c" data-lang="c">    <span class="k">extern</span> <span class="s">&quot;C&quot;</span>
    <span class="p">{</span>
        <span class="cp">#include &quot;miracl.h&quot;</span>
    <span class="p">}</span>
</code></pre></div>
<p>although in most cases it will be preferable to use the C++ wrapper classes described in Chapter 7.</p>

<h2 id="2-1-optimising">2.1  Optimising</h2>

<p>In the context of MIRACL this means speeding things up. A critical decision to be made when configuring MIRACL is to determine the optimal underlying type to use. Usually this will be the <strong>int</strong> type. In general try to define the maximum possible underlying type, as requested by <em>config</em>. If you have a 64-bit processor, you should be able to specify a 64-bit underlying type. In some circumstances it may be faster to use a floating-point <strong>double</strong> underlying type.</p>

<p>Obviously an all-C build of MIRACL will be slowest (but still pretty fast!). It is also the easiest to start with. This requires an integer data type twice the width of the underlying type. In this context note that these days most compilers support a long long integer type which is twice the width of the int. Sometimes it is called __int64 instead of long long.</p>

<p>If your processor is of the extreme RISC variety and supports no integer multiplication/division instruction, or if using a very large modulus, then the Karatsuba-Montgomery-Comba technique for fast modular multiplication may well be faster for exponentiation cryptosystems. Again the <em>config</em> program will guide you through this.</p>

<p>It is sometimes faster to implement the <em>mrmuldv</em> module in assembly language. This does not require the double-width data type. If you are lucky your compiler will also be supported by automatically invoked inline assembly, which will speed things up even further. See <em>miracl.h</em> to see which compilers are supported in this way.</p>

<p>For the ultimate speed, use the extreme techniques implemented in <em>mrkcm.c</em>, <em>mrcomba.c</em>. See <em>kcmcomba.txt</em> for instructions on how to automatically generate these files using the supplied <strong>mex</strong> utility. See also Chapter 5 for more details.</p>

<h2 id="2-2-upgrading-from-version-3">2.2  Upgrading from Version 3</h2>

<p>Version 4.0 introduces the Miracl Instance Pointer, or <em>mip</em>. Previous versions used a number of global and static variables to store internal status information. There are two problems with this. Firstly such globals have to be given obscure names to avoid clashes with other project globals. Secondly it makes multi-threaded applications much more difficult to develop. So from Version 4.0 all such variables, now referred to as instance variables, are members of a structure of type <em>miracl</em>, and must be accessed via a pointer to an instance of this structure. This global pointer is now the only static/global variable maintained by the MIRACL library. Its value is returned by the <strong>mirsys</strong> routine, which initialises the MIRACL library.</p>

<p>C++ programmers should note the change in the name of the instance class from miracl to Miracl. The <em>mip</em> can be found by taking the address of this instance.</p>
<div class="highlight"><pre><code class="language-c" data-lang="c">    <span class="n">Miracl</span> <span class="n">precision</span><span class="o">=</span><span class="mi">50</span><span class="p">;</span>
    <span class="p">.</span>
    <span class="n">mip</span><span class="o">=&amp;</span><span class="n">precision</span><span class="p">;</span>
    <span class="p">.</span>
    <span class="n">etc</span>
</code></pre></div>
<h2 id="2-3-multi-threaded-programming">2.3  Multi-Threaded Programming</h2>

<p>From version 4.4 MIRACL offers full support for Multi-threaded programming. This comes in various flavours.</p>

<p>The problem to be overcome is that MIRACL has to have access to a lot of instance specific status information via its <em>mip</em>. Ideally there should be no global variables, but MIRACL has this one pointer. Unfortunately every thread that uses MIRACL needs to have its own <em>mip</em>, pointing to its own independent status. This is a well-known issue that arises with threads.</p>

<p>The first solution is to modify MIRACL so that the <em>mip</em>, instead of being a global, is passed as a parameter to every MIRACL function. The MIRACL routines can be automatically modified to support this by defining <strong>MR_GENERIC_MT</strong> in <em>mirdef.h</em>. Now (almost all) MIRACL routines are changed such that the <em>mip</em> is the first parameter to each function. Some simple functions are exceptions and do not require the <em>mip</em> parameter – these are marked with an asterix in Chapter 9. For an example of a program modified to work with a MIRACL library built in this way, see the program <em>brent_mt.c</em>. Note however that this solution does NOT apply to programs written using the MIRACL C++ wrapper described in Chapter 7. It only applies to C programs that access the MIRACL routines directly.</p>

<p>An alternative solution is to use <em>Keys</em>, which are a type of thread specific “global” variable. These <em>Keys</em> are not part of the C/C++ standard, but are operating system specific extensions, implemented via special function calls. MIRACL provides support for both Microsoft Windows and Unix operating systems. In the former case these <em>Keys</em> are called <em>Thread-Local Storage</em>. See [Richter] for more information. For Unix MIRACL supports the POSIX standard interface for multithreading. A very useful reference for both Windows and Unix is [Walmsley]. This support for threads is implemented in the module <em>mrcore.c</em>, at the start of the file and in the initialisation routine <strong>mirsys</strong>.</p>

<p>For Windows, define <strong>MR_WINDOWS_MT</strong> in <em>mirdef.h</em>, and for Unix define <strong>MR_UNIX_MT</strong>. In either case there are some programming implications.</p>

<p>In the first place the <em>Key</em> that is to maintain the <em>mip</em> must be initialised and ultimately destroyed by the programs primary thread. These functions are carried out by calls to the special routines <strong>mr_init_threading</strong> and <strong>mr_end_threading</strong> respectively.</p>

<p>In C++ programs these functions might be associated with the constructor and destructor of a global variable [Walmsley] – this will ensure that they are called at the appropriate time before new threads are forked off from the main thread. They must be called before any thread calls <strong>mirsys</strong> either explicitly, or implicitly by creating a thread-specific instance of the class Miracl.</p>

<p>It is strongly recommended that program development be carried out without support for threads. Only when a program is fully tested and debugged should it be converted into a thread.</p>

<p>Threaded programming may require other OS-specific measures, in terms of linking to special libraries, or access to special heap routines. In this regard it is worth pointing out that all MIRACL heap accesses are via the module <em>mralloc.c</em>.</p>

<p>See the example program <em>threadwn.cpp</em> for an example of Windows C++ multithreading. Read the comments in this program – it can be compiled and run from a Windows Command prompt. Similarly see <em>threadux.cpp</em> for an example of Unix multi-threading.</p>

<h2 id="2-4-constrained-environments">2.4 Constrained environments</h2>

<p>In version 5 of MIRACL there is new support for implementations in very small and constrained environments. Using the <em>config</em> utility it is now possible to allow various time/space trade-offs, but the main innovation is the possibility of building and using MIRACL in an environment which does not support a heap. Normally space for big variables is obtained from the heap, but by specifying in the configuration header <strong>MR_STATIC</strong>, a version of the library is built which will always attempt to allocate space not from the heap, but from static memory or from the stack.</p>

<p>The main downside to this is that the maximum size of big variables must be set at compile time, when the library is being created. As always it is best to let the <em>config</em> utility guide you through the process of creating a suitable <em>mirdef.h</em> configuration header.</p>

<p>For the C programmer, the allocation of memory from the stack for big variables proceeds as follows.</p>
<div class="highlight"><pre><code class="language-c" data-lang="c">    <span class="n">big</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">mem</span><span class="p">[</span><span class="n">MR_BIG_RESERVE</span><span class="p">(</span><span class="mi">3</span><span class="p">)];</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">MR_BIG_RESERVE</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
</code></pre></div>
<p>This allocates space for 3 big variables on the stack, and set that memory to zero. Each individual big variable is then initialised as</p>
<div class="highlight"><pre><code class="language-c" data-lang="c">    <span class="n">x</span><span class="o">=</span><span class="n">mirvar_mem</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
    <span class="n">y</span><span class="o">=</span><span class="n">mirvar_mem</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">z</span><span class="o">=</span><span class="n">mirvar_mem</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div>
<p>Allocating all the space for multiple big variables from a single chunk of memory makes sense, as it leads to a faster initialization, and also gives complete control over variable alignment, which compilers sometimes get wrong. Note that in this mode the usual big number initialization function <em>mirvar</em> is no longer available, and allocation must be implemented as described above.</p>

<p>Finally this memory chunk may optionally be cleared before leaving a function by a final call to <em>memset(.)</em> – this may be important for security reasons. For an example see the program <em>brent.c</em>.</p>

<p>This mechanism may be particularly useful when trying to implement a very small program using elliptic curves, which anyway require much smaller big numbers than other cryptographic techniques. To allocate memory from the stack for an elliptic curve point</p>
<div class="highlight"><pre><code class="language-c" data-lang="c">    <span class="n">epoint</span> <span class="o">*</span><span class="n">x</span><span class="p">,</span><span class="o">*</span><span class="n">y</span><span class="p">,</span><span class="o">*</span><span class="n">z</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">mem</span><span class="p">[</span><span class="n">MR_ECP_RESERVE</span><span class="p">(</span><span class="mi">3</span><span class="p">)];</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">MR_ECP_RESERVE</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
</code></pre></div>
<p>To initialize these points</p>
<div class="highlight"><pre><code class="language-c" data-lang="c">    <span class="n">x</span><span class="o">=</span><span class="n">epoint_init_mem</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
    <span class="n">y</span><span class="o">=</span><span class="n">epoint_init_mem</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">z</span><span class="o">=</span><span class="n">epoint_init_mem</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div>
<p>Again it may be advisable to clear the memory associated with these points before exiting the function.</p>

<p>This mechanism is fully supported for C++ programs as well, where it works in conjunction with the stack allocation method described in chapter 7. See <em>pk-demo.cpp</em> for an example of use.</p>

<p>In some extreme cases it may be desired to use only the stack for all memory allocation. This allows maximum use and re-use of memory, and avoids any fragmentation of precious RAM. This can be achieved for C programs by defining <strong>MR_GENERIC_MT</strong> in <em>mirdef.h</em>. See above for more details on this option.</p>

<p>A typical mirdef.h header in this case might look like:-  </p>
<div class="highlight"><pre><code class="language-c" data-lang="c">    <span class="cm">/*</span>
<span class="cm">    * MIRACL compiler/hardware definitions - mirdef.h</span>
<span class="cm">    * Copyright (c) 1988-2005 Shamus Software Ltd.</span>
<span class="cm">    */</span>

    <span class="cp">#define MR_LITTLE_ENDIAN</span>
    <span class="cp">#define MIRACL 32</span>
    <span class="cp">#define mr_utype int</span>
    <span class="cp">#define MR_IBITS 32</span>
    <span class="cp">#define MR_LBITS 32</span>
    <span class="cp">#define mr_unsign32 unsigned int</span>
    <span class="cp">#define mr_dltype __int64</span>
    <span class="cp">#define mr_unsign64 unsigned __int64</span>
    <span class="cp">#define MR_STATIC 7</span>
    <span class="cp">#define MR_ALWAYS_BINARY</span>
    <span class="cp">#define MR_NOASM</span>
    <span class="cp">#define MAXBASE ((mr_small)1&lt;&lt;(MIRACL-1))</span>
    <span class="cp">#define MR_BITSINCHAR 8</span>
    <span class="cp">#define MR_SHORT_OF_MEMORY</span>
    <span class="cp">#define MR_GENERIC_MT</span>
    <span class="cp">#define MR_STRIPPED_DOWN</span>
</code></pre></div>
<p>For examples of programs which use this kind of header, see <em>ecsgen_s.c</em>, <em>ecsign_s.c</em> and <em>ecsver_s.c</em>, and <em>ecsgen2s.c</em>, <em>ecsign2s.c</em> and <em>ecsver2s.</em> These programs implement very small and fast ECDSA key generation, digital signature, and verification on a Pentium using Microsoft C++. See <em>ecdh2m.c</em> and <em>ecdhp.c</em> for more nice examples, which use precomputation to speed up EC Diffie-Hellman implementations.</p>

<p>For small 8 and 16-bit processors, see example programs <em>ecdhp8.c</em>, <em>ecdhp16.c</em>, <em>ecdh2m8.c</em> and <em>ecdh2m16.c</em></p>

<p>NOTE: Doing without a heap is a little problematical. Structures can no longer be of variable size, and so various features of MIRACL become unavailable in this mode. For example precomputations such as required for application of the Chinese remainder theorem are no longer supported. However in a constrained environment it could be reasonably assumed that such precomputations are carried out off-line, and made available to the constrained program fixed inROM.</p>

<p>The MIRACL modules are carefully designed so that an application will only pull in the minimal number of modules from the library for any given task. This helps to keep the program size down to a minimum. However if program size is a big issue then extra savings can sometimes be made by manually deleting from the modules functions that are not needed by your particular program (the linker will complain if the function is in fact needed).</p>


        <div class="tags">
            
        </div>

        

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'idrbwjekyll'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      </div>

      </div>

      <!-- Content Row -->

<div class="col-xs-12 col-sm-4 col-md-3">
  <div class="aside" id="asideAffix">
    <div class="title">Resources</div>

            <script>

                $(document).ready(function() {
                            // Initialize navgoco with default options
                            $("#mysidebar").navgoco({
                                caretHtml: '',
                                accordion: true,
                                openClass: 'active', // open
                                save: false, // leave false or nav highlighting doesn't work right
                                cookie: {
                                    name: 'navgoco',
                                    expires: false,
                                    path: '/'
                            },
                            slide: {
                                duration: 400,
                                easing: 'swing'
                                    }
                                    });

                $("#collapseAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', false);
                });

                $("#expandAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', true);
                });

                });

            </script>


            














            <ul id="mysidebar" class="nav">

                <span class="siteTagline">PRODUCTS</span>

                
                
                
            
                
                <li><a href="#">M-PIN CORE</a>
                    <ul>
                        
                        
                        
                        <li><a href="docs-m-pin-core.html">Overview</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-m-pin-core-3.3-release-notes.html">Release Notes 3.3</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-access.html">M-PIN Core Access</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-m-pin-in-browser-end-user-guide.html">M-Pin Core Brower User Guide</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-m-pin-in-mobile-end-user-guide.html">M-Pin Core Mobile End User Guide</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-core-m-pin-understanding-billing-options.html">M-Pin Core Billing</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">M-PIN SSO</a>
                    <ul>
                        
                        
                        
                        <li><a href="docs-m-pin-sso.html">Overview</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-sso-m-pin-sso-aws-3.3-release-notes.html">M-Pin SSO AWS 3.3 release Notes</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-sso-m-pin-sso-configuration-guide.html">Configuration</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="docs-m-pin-sso-m-pin-sso-for-aws-getting-started-guide.html">M-PIN SSO FOR AWS - Getting Started</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Single-sourcing</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_conditional_logic.html">Conditional logic</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_content_reuse.html">Content reuse</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Handling reviews</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_commenting_on_files.html">Commenting on files</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Publishing</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_build_arguments.html">Build arguments</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_themes.html">Themes</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_link_validation.html">Link validation</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_generating_pdfs.html">Generating PDFs</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_excluding_files.html">Excluding files</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_help_api.html">Help APIs and UI tooltips</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_search_configuration.html">Search configuration</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_iterm_profiles.html">iTerm profiles</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_push_build_to_server.html">Pushing builds to server</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Special layouts</a>
                    <ul>
                        
                        
                        
                        <li><a href="doc_kb_layout.html">Knowledge-base layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_scroll.html">Scroll layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_shuffle.html">Shuffle layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_faq.html">FAQ layout</a></li>
                        

                        

                
                
                        
                        
                        <li><a href="doc_glossary.html">Glossary layout</a></li>
                        

                        

                
                
    </ul>
            
            
                
                <li><a href="#">Tag archives</a>
                    <ul>
                        
                        
                        
                        <li><a href="tag_archives_overview.html">Tag archives overview</a></li>
                        

                        
                        
                        <li class="thirdlevel"><a href="#">Tag archive pages</a>
                            <ul>
                                
                                
                                
                                <li><a href="tag-getting-started.html">Getting started pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-formatting.html">Formatting pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-navigation.html">Navigation pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-content-types.html">Content types pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-publishing.html">Publishing pages</a></li>
                                

                                
                                
                                
                                
                                <li><a href="tag-special-layouts.html">Special layout pages</a></li>
                                

                                
                                
                            </ul>
                        </li>
                        
                        

                
                
    </ul>
            
            
            


    <div class="btn-row">
      <div class="btn-row">
        <a href="#" class="default-btn">
          <span class="txt">Download PDF</span>
        </a>
      </div>
    </div>
  </div>
</div>

<script>$("li.active").parents('li').toggleClass("active");</script>

      
    </div>
  </div>

</div>

1
</body>

<!-- the google_analytics_id gets auto inserted from the config file -->


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66296557-1', 'auto');
    ga('send', 'pageview');
</script>



<div class="section dark footer">
	<div class="container">
		<div class="row">
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Products</h4>
				<ul class="list-unstyled">
					<li><a href="#">M-pin Core</a></li>
					<li><a href="#">M-pin SSO</a></li>
					<li><a href="#">Datacentre Cryptosystem</a></li>
					<li><a href="#">Cloud Security</a></li>
					<li><a href="#">Mobile</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Community</h4>
				<ul class="list-unstyled">
					<li><a href="#">Get Involved</a></li>
					<li><a href="#">How to contribute</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Resources</h4>
				<ul class="list-unstyled">
					<li><a href="#">Get started</a></li>
					<li><a href="#">Documentation</a></li>
					<li><a href="#"> GitHub</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3 column">
				<h4 class="section-sub-title up">Contact us</h4>
				<ul class="list-unstyled">
					<li>81 Rivington Street<br>United Kingdom, <br>EC2A 3AY</li>
					<li><a href="mailto:sales@miracl.com?Subject=Want%20to%20say%20hello!" target="_top">sales@miracl.com</a></li>
					<li><a href="tel:+4402033898190">+44 (0)20 3389 8190</a></li>
				</ul>
			</div>
		</div>
		<div class="row text-center">
			<ul class="list-inline small-footer">
				<li>MIRACL UK Ltd., All Rights Reserved.</li>
				<li><a href="https://www.certivox.com/about-certivox/terms-and-conditions">Terms and Conditions</a></li>
			</ul>
		</div>
	</div>
</div>

</html>

